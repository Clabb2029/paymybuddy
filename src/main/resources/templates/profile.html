<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head.html"></head>
<body>
    <header th:replace="fragments/header.html"></header>
    <div class="container p-4">
        <h1>My Profile</h1>
        <form class="mt-5 p-5 grey-bg" th:action="@{edit-user}" method="post" th:object="${user}" action="#">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="floatingLastname" th:value="${userSaved == null ? user.getLastname() : userSaved.getLastname()}" th:field="*{lastname}">
                <label for="floatingLastname">Lastname</label>
                <small class="error" th:if="${#fields.hasErrors('lastname')}" th:errors="*{lastname}"></small>
            </div>
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="floatingFirstname" th:value="${userSaved == null ? user.getFirstname() : userSaved.getFirstname()}" th:field="*{firstname}">
                <label for="floatingFirstname">Firstname</label>
                <small class="error" th:if="${#fields.hasErrors('firstname')}" th:errors="*{firstname}"></small>
            </div>
            <div class="form-floating mb-3">
                <input type="email" class="form-control" id="floatingEmail" th:value="${userSaved == null ? user.getEmail() : userSaved.getEmail()}" th:field="*{email}" readonly>
                <label for="floatingEmail">Email address</label>
            </div>
            <button type="submit" class="btn btn-primary mt-4 px-4 ms-2">Save</button>
        </form>
    </div>
    <div th:replace="fragments/toast-success :: toast-success (message = ${toastText})"></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>